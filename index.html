<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cognitive Application Development Steps</title>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .chart {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Improving Customer Satisfaction in an E-commerce Platform</h1>
    
    <!-- Bar Chart for Customer Satisfaction Survey Results -->
    <h2>Customer Satisfaction Survey Results</h2>
    <div id="survey-results" class="chart"></div>

    <!-- Pie Chart for Customer Feedback Analysis -->
    <h2>Customer Feedback Analysis</h2>
    <div id="feedback-analysis" class="chart"></div>

    <!-- Flow Diagram for Customer Journey Map -->
    <h2>Customer Journey Map</h2>
    <div id="customer-journey" class="chart"></div>

    <script>
        // Load Google Charts
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawSurveyResultsChart);
        google.charts.setOnLoadCallback(drawFeedbackAnalysisChart);

        // Function to draw the Bar Chart
        function drawSurveyResultsChart() {
            var data = google.visualization.arrayToDataTable([
                ['Aspect', 'Satisfaction Level'],
                ['Product Quality', 80],
                ['Customer Service', 65],
                ['Website Usability', 70],
                ['Delivery Time', 60],
                ['Pricing', 75]
            ]);

            var options = {
                title: 'Customer Satisfaction Survey Results',
                hAxis: {title: 'Satisfaction Level (%)'},
                vAxis: {title: 'Aspects'},
                bars: 'horizontal'
            };

            var chart = new google.visualization.BarChart(document.getElementById('survey-results'));
            chart.draw(data, options);
        }

        // Function to draw the Pie Chart
        function drawFeedbackAnalysisChart() {
            var data = google.visualization.arrayToDataTable([
                ['Feedback Type', 'Percentage'],
                ['Positive', 40],
                ['Neutral', 30],
                ['Negative', 30]
            ]);

            var options = {
                title: 'Customer Feedback Analysis',
                pieHole: 0.4,
            };

            var chart = new google.visualization.PieChart(document.getElementById('feedback-analysis'));
            chart.draw(data, options);
        }

        // D3.js Chart for Customer Journey Map
        const journeyData = [
            { step: 'Awareness', details: 'Ad campaigns, social media' },
            { step: 'Consideration', details: 'Product reviews, website' },
            { step: 'Purchase', details: 'Checkout process, payment options' },
            { step: 'Post-Purchase', details: 'Delivery, follow-up emails' },
            { step: 'Loyalty', details: 'Loyalty programs, customer service' }
        ];

        const svg = d3.select("#customer-journey")
            .append("svg")
            .attr("width", 600)
            .attr("height", 200);

        const y = d3.scaleBand()
            .domain(journeyData.map(d => d.step))
            .range([0, 200])
            .padding(0.1);

        const x = d3.scaleLinear()
            .domain([0, 100])
            .range([0, 600]);

        svg.selectAll(".step")
            .data(journeyData)
            .enter().append("rect")
            .attr("class", "step")
            .attr("x", 0)
            .attr("y", d => y(d.step))
            .attr("width", 100) // Example width, can be dynamic
            .attr("height", y.bandwidth())
            .attr("fill", "lightblue");

        svg.selectAll(".text")
            .data(journeyData)
            .enter().append("text")
            .attr("x", 5)
            .attr("y", d => y(d.step) + y.bandwidth() / 2)
            .attr("dy", ".35em")
            .text(d => d.step);
    </script>
</body>
</html>
